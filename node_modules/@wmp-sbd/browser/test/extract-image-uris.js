'use strict';

const browser = require('../');

describe('Browser', function() {
  it('should be success extractImagesUris without error', (done) => {
    browser.extractImagesUris('http://www.i-arden.com/shop/shopdetail.html?branduid=145882', {
      'ext': ['jpg', 'jpeg'],
      'banElements': {
        '*': [
          // cafe24 추천상품
          'div#prdRelated',
          'div.xans-recommend-display',
          'div.xans-product-relation',
          'div.xans-recommend',
          'div.xans-product-addproduct',
          'div.srlite_container',

          // cafe24 스마트 추천 앱
          'div#df-smartrecommend',
          'div.df-smartrecommend',


          // 메이크샵 - 애널리언스
          'div#dv_mining',
          'div.analyans-wrap',

          // 메이크샵 - 코디상품
          'div.coordi-item-container',

          // 메이크샵 - 함께 구입한 상품
          'div.smart_product',

          // 메이크샵 - 관련상품
          'form[name="allbasket"]',

          // BeShow - 인스타 위젯
          'div#bshow_widget',

          ''
        ],
        '^(http|https)://(www)?\.common-unique.com': [
          'div.srlite_container'
        ],
        '^(http|https)://(www)?\.chocomom.com': [
          'div.rel_buy_list' // 멩이크샵 연관상품
        ],
        '^(http|https)://(www)?\.naning9.com': [
          'div.withitem_wrapper' // 위지아 연관상품
        ],
        '^(http|https)://(www)?\.gumzzi.co.kr': [
          'div.codiset' // 메이크샵 코디셋
        ]
      },
      'minSize': 50000 // byte
    }, (err, res) => {
      //console.log(res);
      should.not.exist(err);
      done();
    });
  });
});
